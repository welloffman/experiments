(()=>{"use strict";var __webpack_modules__={77:(t,e,s)=>{s.d(e,{Z:()=>i});class i{constructor(t,e={}){this.app=t}setProperties(t){for(let e in t)this[e]=t[e]}isNew(){return!this.id}getDataForSave(){let t={};return Object.getOwnPropertyNames(this).forEach(((e,s,i)=>{t[e]=this[e]})),t.app&&delete t.app,t}save(){return new Promise(((t,e)=>{this.app.request(this.getSaveUrl(),{data:this.getDataForSave()},(s=>{s.success?(this.id=parseInt(s.id),t(s)):e(s)}))}))}delete(){return new Promise(((t,e)=>{this.app.request(this.getDeleteUrl(),{id:this.id},(s=>{s.success?t(s):e(s)}))}))}getProps(){const t=Object.getOwnPropertyNames(this),e={};return t.forEach((t=>{e[t]=this[t]})),e}getSaveUrl(){return""}getDeleteUrl(){return""}}},908:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CodeBotModel});var _js_models_AbstractModel_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(77);class CodeBotModel extends _js_models_AbstractModel_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(t={}){super(t)}makeString(t){let e=[];for(let s=0;s<5;s++){const i=0==s,r=4==s;e.push(this.makeSymbol(t,i,r))}return e.join(" ")}makeSymbol(t,e,s){const i=Math.random();return t.getSymbol(i,e,s)}makeFunction(t,e,s,i){const r=s.map(((e,s)=>{const i=`a${s}`;return t.hasSymbol(i)||t.add({value:i,count:2}),i})).join(", ");let n,a=[],o=0;do{a=[`(${r}) => {`];const e=this.makeString(t);if(a.push(e),a.push("}"),n=a.join("\n"),console.log(n),o++,o>=1e4)break}while(!this.checkFunction(n,s,i));return n}checkFunction(func_string,args,result){try{const foo=eval(func_string),r=foo(...args);if(r==result)return!0}catch(t){return!1}return!1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__webpack_require__),s.exports}__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var __webpack_exports__={};(()=>{class t{constructor(t,e=[]){this.models=[],this.reset(e),this.app=t}getObject(){}reset(t){this.models=[],t.forEach((t=>{const e=this.getObject();e.setProperties(t),this.models.push(e)}))}add(t){const e=this.getObject();e.setProperties(t),this.models.push(e)}remove(t){for(let e in this.models)if(this.models[e].id==t.id){this.models.splice(e,1);break}}findById(t){for(let e in this.models)if(this.models[e].id==t)return this.models[e];return null}}var e=__webpack_require__(77);class s extends e.Z{constructor(t={}){super(t),this.mask=null,this.action=null,this.is_current=!1}matchPath(t){const e=t.split("/"),s=this.mask.split("/");if(e.length!=s.length)return!1;for(let t in e){const i=e[t],r=s[t];if(":"!=r.charAt(0)&&r!==i)return!1}return!0}getRouteAttributes(t){const e=[],s=t.split("/"),i=this.mask.split("/");for(let t in i){const r=s[t];":"==i[t].charAt(0)&&e.push(r)}return e}getAttribute(t,e=null){e||(e=window.location.pathname);const s=e.split("/"),i=this.mask.split("/");for(let e in i){const r=s[e];if(i[e]==`:${t}`)return r}return null}}class i extends t{getObject(){return new s(this.app)}getRoute(t){return this.models.find((e=>e.matchPath(t)))}setCurrent(t){this.models.forEach((t=>{t.is_current=!1})),t.is_current=!0}}class r{constructor(t={}){for(let e in t)this[e]=t[e];this.el=document.createElement("div"),this.template="",this.class_name="",this.app=t.app}templateContext(){return{}}getEvents(){return[]}render(){this.stopListeners(),this.class_name.split(" ").forEach((t=>{t&&this.el.classList.add(t)}));const t=X.config.templates[this.template],e=_.template(t);return this.el.innerHTML=e(this.templateContext()),this.startListeners(),this.onRender(),this.el}onRender(){}startListeners(){this.getEvents().forEach((t=>{const e=t[0],s=t[1],i=t[2];this.el.querySelectorAll(s).forEach((t=>{t.addEventListener(e,this[i].bind(this),!1)}))}))}stopListeners(){this.getEvents().forEach((t=>{const e=t[0],s=t[1],i=t[2];this.el.querySelectorAll(s).forEach((t=>{t&&t.removeEventListener(e,this[i],!1)}))}))}remove(){this.stopListeners(),this.el.remove()}changeField(t){const e=t.currentTarget.getAttribute("data-type"),s=t.currentTarget.value;this.model[e]=s}getDate(t,e="DD.MM.YYYY"){return this.app.getLocalDate(t).format(e)}renderChild(t,e,s=!1){this.el.querySelectorAll(e).forEach((e=>{if(s)for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(t.render())}))}removeError(t){const e=t.target;if(!e.classList.contains("alert"))return!1;e.classList.remove("alert");const s=e.parentNode.querySelectorAll(".error");s.length&&e.parentNode.removeChild(s[0]);const i=t.currentTarget.getAttribute("data-type");delete this.errors[i]}}class n extends r{constructor(t={}){super(t),this.template="header_view",this.class_name="header-view",this.menuItems=[]}templateContext(){return{getMenu:this.getMenu.bind(this),isActive:this.isActive.bind(this)}}getMenu(){return _.filter(this.menuItems,(function(t){return t.roles.indexOf(app.user.get("role"))>-1}))}isActive(t){return-1==t.active.concat([t.route]).indexOf(app.current().route)?"":"selected"}}class a extends r{constructor(t={}){super(t),this.template="footer_view",this.class_name="footer-view"}templateContext(){return{currentYear:this.getCurrentYear()}}getCurrentYear(){return moment().year()}}class o extends r{constructor(t={}){super(t),this.template="preloader-view",this.class_name="preloader-view",this.show_spinner||(this.show_spinner=!1)}templateContext(){return{show_spinner:this.show_spinner}}onRender(){}show(){this.remove(),document.querySelector("body").appendChild(this.render())}hide(){this.remove()}}class h extends r{constructor(t={}){super(t),this.template="modal_confirm_view",this.class_name="modal-confirm-view",this.applyCallback=t.applyCallback||(()=>{}),this.cancelCallback=t.cancelCallback||(()=>{}),this.title=t.title,this.text=t.text,this.type=t.type,this.sizeClass=t.sizeClass?t.sizeClass:"",this.applyButtonCss=t.applyButtonCss||"",this.applyButtonText=t.applyButtonText||"Close",this.cnacelButtonText=t.cnacelButtonText||"Cancel",this.customView=t.customView,this.noCloseOutside=t.noCloseOutside,this.css_class=t.css_class||"",this.customView&&(this.customView.parent=this)}templateContext(){return{title:this.title,text:this.text,type:this.type,applyButtonCss:this.applyButtonCss,applyButtonText:this.applyButtonText,cnacelButtonText:this.cnacelButtonText,sizeClass:this.sizeClass,css_class:this.css_class}}getEvents(){return[["click",".js-close","close"],["click",".js-apply","apply"],["click",".js-mask","maskClick"]]}onRender(){"custom"==this.type&&this.el.querySelector(".modal-body").appendChild(this.customView.render())}show(){const t=document.querySelector("body");t.classList.add("freezing"),t.appendChild(this.render()),setTimeout((()=>{this.setOffset()}))}close(){this.remove();const t=document.querySelector("body");t.querySelector(".modal-confirm-view")||t.classList.remove("freezing")}apply(){this.applyCallback(),this.close()}setOffset(){this.el.classList.add("centered")}maskClick(){this.noCloseOutside||this.close()}}class l extends e.Z{constructor(t={}){super(t),this.options={repeat_num:1e3},this.result={equilibrium:0,total_try:0,equilibrium_ratio:0,max_diff:0,max_diff_ratio:0,gold_ratios:[{ratio:"0.0",count:0}],changes:0,stability:0},this.ratios={},this.last_try=-1}getRepeatNum(){return this.options.repeat_num}run(){for(let t=0;t<this.getRepeatNum();t++)this.turn();console.log(this.result.gold_ratios)}turn(){this.options;const t=this.result,e=this.randomInteger(0,1),s=e?-1:1;t.equilibrium+=s,t.total_try++;const i=Math.abs(t.equilibrium),r=i/t.total_try;t.equilibrium_ratio=r.toFixed(4),this.calculateGoldRatio((i*r).toFixed(1)),i>t.max_diff&&(t.max_diff=i,t.max_diff_ratio=t.equilibrium_ratio),this.last_try==e?this.result.stability++:this.result.changes++,this.last_try=e}randomInteger(t,e){let s=t-.5+Math.random()*(e-t+1);return Math.round(s)}calculateGoldRatio(t){const e=this.result,s="r"+t;this.ratios[s]||(this.ratios[s]=0),this.ratios[s]++;const i={ratio:t,count:this.ratios[s]};let r=!1;for(let t in e.gold_ratios)if(this.ratios[s]>e.gold_ratios[t].count){e.gold_ratios.splice(t,0,i),r=!0,t=parseInt(t);const s=_.size(e.gold_ratios);if(t<s-1)for(let r=t+1;r<s;r++)if(e.gold_ratios[r].ratio==i.ratio){e.gold_ratios.splice(r,1);break}break}r||e.gold_ratios.push(i)}getGoldRatio(){return this.result.gold_ratios[0]}}class c extends e.Z{id;type;o={input:[],hidden:[],output:[],inputHiddenW:{},hiddenOutputW:{},norma:.15,standard:[]};constructor(t={}){super(t)}init(t,e,s){let i={};i.input=new Array(t).fill(0),i.hidden=new Array(s).fill(0),i.output=new Array(e).fill(0),this.setOptions(i)}setOptions(t){_.each(t,((t,e)=>{void 0!==this.o[e]&&(this.o[e]=t)}))}makeWeights(){this.o.inputHiddenW=this.makeRandomWeights(_.size(this.o.input),_.size(this.o.hidden)),this.o.hiddenOutputW=this.makeRandomWeights(_.size(this.o.hidden),_.size(this.o.output))}getOutput(){return this.o.output}getInput(){return this.o.input}getHidden(){return this.o.hidden}getStandard(){return this.o.standard}calculate(){this.makeValues(this.o.input,this.o.hidden,this.o.inputHiddenW),this.makeValues(this.o.hidden,this.o.output,this.o.hiddenOutputW)}fix(){let t=this.getOutputErrors(),e=this.getDeltas(t,this.o.hidden,this.o.hiddenOutputW),s=this.getErrors(t,this.o.hidden,this.o.hiddenOutputW),i=this.getDeltas(s,this.o.input,this.o.inputHiddenW);_.each(this.o.hiddenOutputW,((t,s)=>{_.each(t,((t,i)=>{this.o.hiddenOutputW[s][i]+=e[s][i]}),this)}),this),_.each(this.o.inputHiddenW,((t,e)=>{_.each(t,((t,s)=>{this.o.inputHiddenW[e][s]+=i[e][s]}),this)}),this),this.calculate()}getWeights(){return[this.o.inputHiddenW,this.o.hiddenOutputW]}getOutputStandardDiff(t){let e;if(null==t&&(t=2),_.size(this.o.output)==_.size(this.o.standard)){let s=0;_.each(this.o.output,((t,e)=>{s+=Math.abs(t-this.o.standard[e])})),e=1*(s/_.size(this.o.output)).toFixed(t)}return e}makeRandomWeights(t,e){let s=[];for(let i=0;i<t;i++){s[i]=[];for(let t=0;t<e;t++)s[i][t]=1*this.getRandomArbitrary(-5,5).toFixed(3)}return s}getRandomArbitrary(t,e){return Math.random()*(e-t)+t}makeValues(t,e,s){for(let i in e){let r=0;_.each(t,((t,e)=>{r+=s[e][i]*t})),e[i]=this.funcActivation(r)}}funcActivation(t){return 1/(1+Math.pow(Math.E,-t))}getOutputErrors(){let t=[];return _.each(this.o.output,((e,s)=>{let i=this.o.standard[s],r=e<.001||e>.999?i-e:(i-e)*e*(1-e);t.push(r)}),this),t}getErrors(t,e,s){let i=[];return _.each(e,((e,r)=>{let n=0;_.each(s[r],((s,i)=>{n+=t[i]*s*e*(1-e)})),i.push(n)})),i}getDeltas(t,e,s){let i=[];for(let r in s){let n=[];_.each(s[r],((s,i)=>{let a=e[r]*t[i]*this.o.norma;n.push(a)}),this),i.push(n)}return i}}var u=__webpack_require__(908);class d extends e.Z{id;direction;x;y;size=3;color="#ffa638";speed=15;constructor(t={}){super(t)}fly(){this.x+=this.direction*this.speed}outOfRange(){return this.x<0||this.x>700}}class p extends t{getObject(){return new d(this.app)}addItem(t){t.id=this.incrementId(),this.models.push(t)}incrementId(){return this.models.length?this.models[this.models.length-1].id+1:1}}class m extends t{getObject(){return new c(this.app)}getByType(t){for(let e in this.models)if(this.models[e].type==t)return this.models[e];return null}}class g extends e.Z{id;type;x;y;width=15;height=15;color="orange";team;constructor(t={}){super(t),this.shots=new p(this.app),this.nets=new m(this.app)}randomMove(){const t=app.getRandomInt(1,100);if(t>80);else if(t>70)this.makeShot();else{const t=this.getRandomVector();this.x+=t.x,this.y+=t.y}}getRandomVector(){const t={x:0,y:0},e=app.getRandomInt(1,100);return e>75?t.x=1:e>50?t.x=-1:t.y=e>25?1:-1,-1==t.x&&0==this.x&&(t.x=1),-1==t.y&&0==this.y&&(t.y=1),t}makeShot(){const t=new d(this.app),e=1==this.team?1:-1;t.setProperties({direction:e,x:this.x+Math.ceil(this.width/2)*e,y:this.y+Math.floor(this.height/2)}),this.shots.addItem(t)}updateShots(){this.shots.models.forEach(((t,e)=>{t.fly(),t.outOfRange()&&this.shots.models.splice(e,1)}))}getNet(t,e,s,i){let r=this.nets.getByType(t);return r||(r=new c(this.app),r.setProperties({type:t}),r.init(e,s,i),r.makeWeights(),this.nets.models.push(r)),r}move(t){const e=this.getMoveVector(t);this.x+=e.x,this.y+=e.y}getMoveVector(t){let e=[1,0];this.y<t.y?e=[1,1]:this.y>t.y&&(e=[0,0]);const s=this.getNet("direction",2,2,5);s.o.input=e,s.calculate();const i=s.getOutput(),r=Math.round(i[0]),n=Math.round(i[1]);let a={x:0,y:0};return 1==r&&1==n?a.y=1:0==r&&0==n&&(a.y=-1),-1==a.y&&0==this.y&&(a.y=0),a}}class f extends e.Z{id;title;constructor(t={}){super(t)}}class w extends t{getObject(){return new f(this.app)}}class y extends e.Z{id;question;answer;theme_id=1;constructor(t={}){super(t)}getSaveUrl(){return"/post/interview/save-question"}getDeleteUrl(){return"/post/interview/delete-question"}}class v extends t{getObject(){return new y(this.app)}fetchAll(){return new Promise(((t,e)=>{this.app.request("/post/interview/fetch-questions",{},(s=>{s.success?(this.reset(s.items),t(s)):e(s)}))}))}}class b extends e.Z{id;type;x;y;constructor(t={}){super(t),this.diagonal_h=130,this.diagonal_v=100}getColor(){return{grass:"#5ec94a",forest:"#199103",sand:"#e1a600",water:"#0e90d2",steppe:"#d3e100"}[this.type]}getPoint(t){const e=this.getCenter();return"top"==t?e.y-=this.diagonal_v/2:"right"==t?e.x+=this.diagonal_h/2:"bottom"==t?e.y+=this.diagonal_v/2:"left"==t&&(e.x-=this.diagonal_h/2),e}getCenter(){const t=this.diagonal_h/2,e=this.diagonal_v/2;let s=0;return this.y%2==0&&(s=t),{x:parseInt(this.x)*t*2+s,y:parseInt(this.y)*e}}}class x extends t{getObject(){return new b(this.app)}getByCoords(t,e){const s=(e-1)*Math.sqrt(this.models.length)+t-1;return this.models[s]}fetchItems(){return new Promise(((t,e)=>{this.app.request("/post/game/fetch-cells",{},(s=>{s.success?(this.reset(s.items),t(s)):e(s)}))}))}}class C extends r{constructor(t={}){super(t),this.template="index_view",this.class_name="index-view main-content",this.projects=[{title:"Вероятность",url:"/projects/probability"},{title:"Числительные",url:"/projects/numerals"},{title:"Vue",url:"/projects/vue",is_native:!0},{title:"it-gramota",url:"/projects/it-gramota"},{title:"code-bot",url:"/projects/code-bot"},{title:"expressions",url:"/projects/expressions"},{title:"interview",url:"/projects/interview"},{title:"game 2",url:"/projects/game2"},{title:"В столбик",url:"/projects/columnar-calculations"},{title:"Поисковик",url:"/projects/searcher"}]}templateContext(){return{projects:this.projects}}}class k extends r{constructor(t={}){super(t),this.template="it_gramota_view",this.class_name="it-gramota-view",window.removeEventListener("message",this.finishListener,!1),window.addEventListener("message",this.finishListener,!1),this.startListeners()}onRender(){}getEvents(){return[["click",".js-next","next"]]}templateContext(){return{}}next(t){this.el.querySelectorAll(".it-gramota-view .js-frame")[0].contentWindow.postMessage({event:"next_step"},"*")}finishListener(t){t.data,console.log(t.data),t.data.height&&(document.querySelector("iframe").style.height=t.data.height+"px",window.scrollTo(0,0))}}class S extends e.Z{net;random_set;success_count;total_count;constructor(t={}){super(t),this.success_count=0,this.total_count=0,this.makeNet(20)}makeRandomSet(t){this.random_set=[];for(let e=0;e<t;e++){const t=this.randomInteger(0,1);this.random_set.push(t)}}makeNet(t=10){const e=t,s=t;this.net=new c,this.net.init(e,1,s),this.net.makeWeights()}getFortune(){return this.net.getOutput()[0]>.5?1:0}checkFortune(t){this.net.o.input=this.random_set,this.net.calculate();const e=this.getFortune();return this.total_count++,t==e&&this.success_count++,this.pushRandomValue(t),console.log({random_value:t,fortune:e}),e}randomInteger(t,e){let s=t-.5+Math.random()*(e-t+1);return Math.round(s)}pushRandomValue(t){this.random_set.shift(),this.random_set.push(t)}learn(t){for(this.net.o.standard=t;this.getFortune()!=t[0];)this.net.fix(),this.net.calculate(),console.log(this.net.getOutput())}}class j extends r{constructor(t={}){super(t),this.template="probability_view",this.class_name="probability-view main-content",this.startListeners()}templateContext(){return{options:this.model.options,result:this.model.result,gold_ratio:this.model.getGoldRatio()}}getEvents(){return[["change",".js-field","changeField"],["click",".js-start-count","startCount"],["click",".js-reset","reset"],["click",".js-start-random","startRandom"],["click",".js-reset-random","resetRandom"],["click",".js-start-nostradamus","startNostradamus"],["click",".js-learn-nostradamus","learnNostradamus"],["click",".js-start-nostradamus-pack","learnNostradamusPack"]]}changeField(t){const e=$(t.target),s=e.data("type"),i=e.val();this.model.options[s]=i,console.log("changeField")}startCount(){this.model.run(),this.render()}reset(){this.model=new l,this.render()}startRandom(){this.resetRandom();let t,e=0,s=-1,i=-1;for(let r=0;r<this.model.options.repeat_num_random;r++){let r=this.model.randomInteger(0,1);t=s<0||i<0?this.model.randomInteger(0,1):s==i?0==s?1:0:s,t==r&&e++,i=s,s=r,this.renderRandomValue(r)}this.renderPredicted(e)}renderRandomValue(t,e=".js-result"){const s=$("<div>",{class:t?"item red":"item blue",html:t});$(this.el).find(e).append(s)}renderPredicted(t){$(this.el).find(".js-predicted").html(t)}resetRandom(){$(this.el).find(".js-result").html("")}learnNostradamusPack(){for(let t=0;t<100;t++)this.startNostradamus()}startNostradamus(){this.nostradamus||(this.nostradamus=new S,this.nostradamus.makeRandomSet(20),this.nostradamus.random_set.forEach((t=>{this.renderRandomValue(t,".js-nostradamus-result")}))),this.random_value=this.nostradamus.randomInteger(0,1),this.nostradamus.checkFortune(this.random_value),this.renderRandomValue(this.random_value,".js-nostradamus-result"),$(this.el).find(".js-nostradamus-predicted").html(this.nostradamus.success_count+" из "+this.nostradamus.total_count),this.learnNostradamus()}learnNostradamus(){this.nostradamus.learn([this.random_value])}}class R extends r{items=[];current_value="";constructor(t={}){super(t),this.template="expressions_view",this.class_name="expressions-view main-content",this.startListeners()}getEvents(){return[["click",".js-add-item","addItem"],["change",".js-curretn","changeCurrent"],["dragend",".js-e-item","dragend"],["dragstart",".js-e-item","dragstart"],["mousedown",".js-e-item","mousedown"],["mouseup",".js-e-item","mouseup"]]}templateContext(){return{items:this.items}}changeCurrent(t){this.current_value=t.target.value}addItem(){if(this.current_value){const t={value:this.current_value,left:0,right:0};this.items.push(t),this.current_value="",this.render()}}dragend(t){}dragstart(t){return!1}mousedown(t){const e=t.target;document.onmousemove=function(t){const s=e.getBoundingClientRect(),i=s.top+pageYOffset,r=s.left+pageXOffset;e.style.left=t.pageX-r+"px",e.style.top=t.pageY-i+"px",console.log(pageYOffset,pageXOffset)}}mouseup(t){document.onmousemove=null}}class M extends r{constructor(t={}){super(t),this.template="form_builder_view",this.class_name="form-builder-view"}getEvents(){return[]}templateContext(){return{}}}class P extends r{constructor(t={}){super(t),this.template="question_view",this.class_name="question-view",this.filter="",this.mode=this.mode?this.mode:"show"}getEvents(){return[["change",".js-field","changeField"],["click",".js-save","save"],["click",".js-cancel","cancel"],["click",".js-toggle","toggle"],["click",".js-toggle-edit","toggleEdit"],["click",".js-delete","delete"]]}templateContext(){return{model:this.model,themes:this.themes_collection,mode:this.mode}}async save(){try{await this.model.save(),null!=this.afterSave?this.afterSave(this.model):this.toggleEdit()}catch(t){this.app.showError(t)}}cancel(){this.model.id?this.toggleEdit():this.remove()}toggle(t){t.target.classList.contains("active")?(this.el.querySelectorAll(".js-answer")[0].classList.add("hidden"),t.target.classList.remove("active")):(this.el.querySelectorAll(".js-answer")[0].classList.remove("hidden"),t.target.classList.add("active"))}toggleEdit(){this.mode="show"==this.mode?"edit":"show",this.render()}delete(){this.parent.deleteQuestion(this.model)}}class q extends r{constructor(t={}){super(t),this.template="interview_view",this.class_name="interview-view main-content",this.filter="",this.theme_id=1}getEvents(){return[["click",".js-create","create"],["change",".js-theme","changeTheme"],["keyup",".js-filter","changeFilter"]]}templateContext(){return{themes:this.themes_collection,theme_id:this.theme_id,filter:this.filter}}create(){this.question_view||(this.question_view=new P({app:this.app,themes_collection:this.themes_collection,mode:"edit",afterSave:_.bind(this.afterCreate,this)}));const t=new y(this.app);this.question_view.model=t,this.question_view.remove(),this.renderChild(this.question_view,".js-new-wrapper")}afterCreate(t){this.questions_collection.models.push(t),this.question_view.remove(),this.renderQuestions()}onRender(){this.renderQuestions()}renderQuestions(){this.questions_views&&this.questions_views.forEach((t=>{t.remove()})),this.questions_views=[],this.getQuestions().forEach((t=>{const e=new P({model:t,themes_collection:this.themes_collection,parent:this});this.questions_views.push(e)})),this.questions_views.forEach((t=>{this.renderChild(t,".js-list-wrapper")}))}deleteQuestion(t){new h({title:"Внимание!",text:"Вопрос будет удален.",type:"question",applyCallback:_.bind(this.deleteQuestionHandler,this,t),applyButtonText:"Удалить",applyButtonCss:"btn-red"}).show()}async deleteQuestionHandler(t){try{await t.delete(),this.questions_collection.remove(t),this.renderQuestions()}catch(t){app.showError(t)}}getQuestions(){const t=_.filter(this.questions_collection.models,(t=>t.theme_id==this.theme_id&&this.filterMatched(t)));return _.sortBy(t,(t=>-t.id))}changeTheme(t){this.theme_id=t.target.value,this.renderQuestions()}changeFilter(t){this.filter=t.target.value,this.renderQuestions()}filterMatched(t){return!this.filter||t.question.toLowerCase().indexOf(this.filter.toLowerCase())>-1}}class E extends e.Z{sprite;i;w;h;map;state;constructor(t={}){super(t),this.frame=0,this.step=1}load(){this.i=new Image(this.w,this.h),this.i.src=this.sprite}tik(){1!=this.step||this.map[this.state][this.frame+1]?-1==this.step&&0==this.frame&&(this.step=1):this.step=-1,this.frame+=this.step}getX(){return this.map[this.state][this.frame].x}getY(){return this.map[this.state][this.frame].y}getW(){return this.map[this.state][this.frame].w}getH(){return this.map[this.state][this.frame].h}}class L extends r{constructor(t={}){super(t),this.template="game_map_view",this.class_name="game-map-view",this.cell_size=100,this.offset={x:0,y:0},this.initCharacter(),this.initMainRender()}templateContext(){return{}}getEvents(){return[["mousedown",".js-canvas-map","startMoveMapListener"],["mouseup",".js-canvas-map","stopMoveMapListener"],["mouseout",".js-canvas-map","stopMoveMapListener"]]}onRender(){}initMainRender(){setInterval((()=>{this.renderMap()}),50)}getCanvas(){return this.canvas||(this.canvas=this.el.querySelectorAll(".js-canvas-map")[0]),this.canvas}getCtx(){return this.ctx||(this.ctx=this.getCanvas().getContext("2d")),this.ctx}prepareCanvas(){const t=this.getCanvas(),e=this.getCtx(),s=this.el.getBoundingClientRect().width,i=this.el.getBoundingClientRect().height;e.clearRect(0,0,s,i);let r=window.devicePixelRatio,n=+getComputedStyle(t).getPropertyValue("height").slice(0,-2),a=+getComputedStyle(t).getPropertyValue("width").slice(0,-2);t.setAttribute("height",n*r),t.setAttribute("width",a*r)}renderMap(){this.prepareCanvas();const t=this.el.getBoundingClientRect().width,e=this.el.getBoundingClientRect().height;let s,i=this.getLocalOffset(),r=0,n=0;for(;e>i.y;){for(;t>i.x;)s=this.getCell(r,n),this.drawCell(s),i.x+=s.diagonal_h,r++;i.y+=s.diagonal_v/2,i.x=this.getLocalOffset().x,r=0,n++}const a=this.getCell(8,11);this.renderCharacter(a)}drawCell(t){const e=this.getCtx();e.beginPath(),e.lineWidth=1,e.strokeStyle="white",e.fillStyle=t.getColor();let s=t.getPoint("top");e.moveTo(s.x+this.offset.x,s.y+this.offset.y),s=t.getPoint("right"),e.lineTo(s.x+this.offset.x,s.y+this.offset.y),s=t.getPoint("bottom"),e.lineTo(s.x+this.offset.x,s.y+this.offset.y),s=t.getPoint("left"),e.lineTo(s.x+this.offset.x,s.y+this.offset.y),s=t.getPoint("top"),e.lineTo(s.x+this.offset.x,s.y+this.offset.y),e.fill(),e.stroke(),e.fillStyle="black",e.fillText(t.x+"-"+t.y,t.getCenter().x+this.offset.x,t.getCenter().y+this.offset.y)}getLocalOffset(){return{x:this.offset.x%this.cell_size,y:this.offset.y%this.cell_size}}getCell(t,e){const s=new b(this.app);let i=0;e%2==0&&(i=s.diagonal_h/2);const r=Math.abs(Math.trunc((this.offset.x+i)/s.diagonal_h/2))+1,n=Math.abs(Math.trunc(this.offset.y/s.diagonal_v/2))+1;return this.collection.getByCoords(r+t,n+e)}startMoveMapListener(t){this.mouse_offset={x:t.pageX,y:t.pageY},this.mousemove=this.moveMapListener.bind(this),window.addEventListener("mousemove",this.mousemove)}stopMoveMapListener(){window.removeEventListener("mousemove",this.mousemove,!1)}moveMapListener(t){this.local_offset={x:this.mouse_offset.x-t.pageX,y:this.mouse_offset.y-t.pageY},this.offset.x-=this.local_offset.x,this.offset.y-=this.local_offset.y,this.offset.x>0&&(this.offset.x=0),this.offset.y>0&&(this.offset.y=0);const e=this.el.getBoundingClientRect().width,s=this.el.getBoundingClientRect().height,i={x:e-this.cell_size*Math.sqrt(this.collection.models.length),y:s-this.cell_size*Math.sqrt(this.collection.models.length)};this.offset.x<i.x&&(this.offset.x=i.x),this.offset.y<i.y&&(this.offset.y=i.y),this.mouse_offset={x:t.pageX,y:t.pageY}}renderCharacter(t){const e=t.getCenter(),s=this.image.getW(),i=this.image.getH(),r=e.x+this.offset.x-s/2,n=e.y+this.offset.y-i+10;this.getCtx().drawImage(this.image.i,this.image.getX(),this.image.getY(),s,i,r,n,s,i)}initCharacter(){this.image=new E(this.app),this.image.setProperties({sprite:"/img/sprite.png",w:700,h:400,state:"bl",map:{tr:[{x:296,y:0,w:63,h:175},{x:359,y:0,w:63,h:175},{x:422,y:0,w:63,h:175},{x:484,y:0,w:63,h:175},{x:546,y:0,w:63,h:175}],tl:[{x:0,y:0,w:60,h:166},{x:60,y:0,w:60,h:166},{x:120,y:0,w:60,h:166},{x:179,y:0,w:60,h:166},{x:238,y:0,w:60,h:166}],br:[{x:317,y:176,w:60,h:183},{x:378,y:176,w:60,h:183},{x:438,y:175,w:60,h:183},{x:497,y:175,w:60,h:183},{x:557,y:175,w:60,h:183}],bl:[{x:0,y:176,w:64,h:183},{x:64,y:176,w:64,h:183},{x:128,y:176,w:64,h:183},{x:191,y:176,w:64,h:183},{x:254,y:176,w:64,h:183}]}}),this.image.load(),setInterval((()=>{this.image.tik()}),200)}}class O extends e.Z{net;inputs;standards;repeat_inner=200;repeat_outer=50;constructor(t={}){super(t)}start(){for(let t=0;t<this.repeat_outer;t++)this.repeatOuter()}repeatOuter(){for(let t in this.inputs)this.repeatInner(this.standards[t],this.inputs[t])}repeatInner(t,e){this.net.o.input=e,this.net.o.standard=t;for(let t=0;t<this.repeat_inner;t++)this.net.fix()}}class A extends r{constructor(t={}){super(t),this.template="game2_view",this.class_name="game2-view",this.offset={x:600,y:5},this.size={width:500,height:500},this.initKeyHanler()}templateContext(){return{}}getEvents(){return[["click",".js-start","start"],["click",".js-stop","stop"],["click",".js-learn","learn"]]}onRender(){setTimeout((()=>{this.refresh()}))}refresh(){this.clear(),this.updateSize(),this.drawMap(),this.drawBots(),this.drawShots()}drawMap(){const t=this.getCtx();t.lineWidth=1,t.strokeStyle="black",t.strokeRect(this.offset.x-1,this.offset.y-1,this.size.width+2,this.size.height+2)}drawBots(){const t=this.getCtx();t.fillStyle=this.bot1.color,t.fillRect(this.bot1.x+this.offset.x,this.bot1.y+this.offset.y,this.bot1.width,this.bot1.height),t.fillStyle=this.bot2.color,t.fillRect(this.bot2.x+this.offset.x-this.bot2.width,this.bot2.y+this.offset.y,this.bot2.width,this.bot2.height)}drawShots(){const t=this.getCtx();[this.bot1,this.bot2].forEach((e=>{e.shots.models.forEach((e=>{t.fillStyle=e.color,t.beginPath(),t.arc(e.x,e.y,e.size,0,2*Math.PI,!1),t.fill()}))}))}start(){if(this.timer_id)return!1;this.timer_id=setInterval((()=>{this.bot1.move(this.bot2),this.bot2.updateShots(),this.refresh()}),20)}stop(){if(!this.timer_id)return!1;clearInterval(this.timer_id),this.timer_id=null}getCtx(){return this.ctx||(this.ctx=this.getCanvas().getContext("2d")),this.ctx}getCanvas(){return this.canvas||(this.canvas=this.el.querySelectorAll(".js-canvas-map")[0]),this.canvas}width(){return this.el.getBoundingClientRect().width}height(){return this.el.getBoundingClientRect().height}clear(){this.getCtx().clearRect(0,0,this.width(),this.height())}updateSize(){const t=this.getCanvas(),e=window.devicePixelRatio,s=+getComputedStyle(t).getPropertyValue("height").slice(0,-2),i=+getComputedStyle(t).getPropertyValue("width").slice(0,-2);t.setAttribute("height",s*e),t.setAttribute("width",i*e)}keydown(t){const e=this.bot2;"KeyS"==t.code?this.moveBot(e,5):"KeyW"==t.code&&this.moveBot(e,-5),"Space"==t.code&&e.makeShot()}moveBot(t,e){t.y+=e;const s=this.size.height-t.height;e>0&&t.y>s&&(t.y=s),e<0&&t.y<0&&(t.y=0)}learn(){const t=this.bot1.getNet("direction",2,2,5),e=new O;e.setProperties({net:t,inputs:[[1,1],[0,0],[1,0]],standards:[[1,1],[0,0],[1,0]]}),e.start()}initKeyHanler(){window.addEventListener("keydown",(t=>{this.keydown(t)}),!1)}}class B extends r{constructor(t={}){super(t),this.template="numerals_view",this.class_name="numerals-view main-content",this.number=t.number,this.net=t.net,this.initNet()}templateContext(){return{net:this.net,number:this.number}}initNet(){const t=100..toString(2).length,e=t,s=this.number.toString(2).padStart(t,"0");this.net.init(t,2,e),this.net.setOptions({input:s}),this.net.makeWeights(),this.net.calculate()}}class I extends e.Z{id;value;freq={begin:[0,0,0],middle:[0,0,0],end:[0,0,0]};count=0;status="active";can_first=!1;can_last=!1;constructor(t={}){super(t)}}class N extends t{getObject(){return new I(this.app)}hasSymbol(t){for(let e in this.models)if(this.models[e].value==t)return!0;return!1}getByValue(t){for(let e in this.models)if(this.models[e].value==t)return this.models[e];return null}getSymbol(t,e,s){const i=this.models.sort(((t,e)=>t.count<e.count?1:t.count>e.count?-1:0)),r=[];for(let e in i){if(e/i.length>t)break;r.push(i[e])}return r[Math.floor(Math.random()*r.length)].value}getTotalCount(){let t=0;return this.models.forEach((e=>{t+=e.count})),t}}class z extends e.Z{symbols;strings=[];constructor(t={}){super(t),this.symbols=t.symbols}analize(t){(t=t.replace(/[\(\)\[\]\{\}\.;!]/g," $& ")).split("\n").forEach((t=>{this.handleString(t)}))}handleString(t){if(!(t=t.trim()).length)return!1;const e=t.split(" ");e.forEach(((t,s)=>{const i=0==s,r=s==e.length-1;this.addValue(t,i,r)}))}addValue(t,e,s){if(!(t=t.trim()).length)return!1;let i;this.symbols.hasSymbol(t)?i=this.symbols.getByValue(t):(i=new I,i.value=t,this.symbols.models.push(i)),i.count+=1,e&&(i.can_first=!0),s&&(i.can_last=!0)}}class T extends r{strings=[];symbols;code="";head="test";params=[1];result=1;func;constructor(t={}){super(t),this.template="code_bot_view",this.class_name="code-bot-view main-content",this.symbols=new N,this.startListeners()}getEvents(){return[["click",".js-make-string","makeString"],["click",".js-analize","analize"],["change",".js-head","changeHead"],["change",".js-params","changeParams"],["change",".js-result","changeResult"],["click",".js-make-code","makeCode"]]}templateContext(){return{strings:this.strings,code:this.code,head:this.head,params:this.params?this.params.join(", "):"",result:this.result,func:this.func}}makeString(){this.strings.push(this.code_bot.makeString(this.symbols)),this.render()}analize(){this.code=this.el.querySelectorAll(".js-sample")[0].value;const t=new z({symbols:this.symbols});t.analize(this.code),console.log(t.symbols.models)}changeHead(t){this.head=t.target.value}changeParams(t){const e=t.target.value.trim().split(",");this.params=[],e.forEach((t=>{this.params.push(t.trim())}))}changeResult(t){this.result=t.target.value}makeCode(){this.func=this.code_bot.makeFunction(this.symbols,this.head,this.params,this.result),this.render()}}class W extends r{constructor(t={}){super(t),this.template="keyboard_view",this.class_name="keyboard-view"}templateContext(){return{}}getEvents(){return[["click",".js-button","buttonClick"]]}buttonClick(t){const e=t.target.getAttribute("data-value")||t.target.innerHTML;this.changeCallback(e)}}class V extends r{constructor(t={}){super(t),this.template="calc_view",this.class_name="calc-view"}templateContext(){return{model:this.model}}getEvents(){return[]}}class F extends r{constructor(t={}){super(t),this.template="calc_div_view",this.class_name="calc-div-view calc-view"}templateContext(){return{model:this.model}}getEvents(){return[]}}class H extends e.Z{memory=[];number1;number2;operation;steps=[[]];status=0;constructor(t,e={}){super(t,e),this.setProperties(e)}clear(){this.setProperties({memory:[],number1:"",number2:"",operation:"",steps:[[]],status:0})}isNumber1Active(){return 0==this.status}isNumber2Active(){return 1==this.status}isReady(){return 2==this.status}setReadyStatus(){this.status=2}setNumber2Status(){this.status=1}getParts(t){return String(t).split("")}cursorAtStep(t){return t==this.steps.length-1}isLastStep(t=null){return"+"==this.operation||"-"==this.operation||!!this.number2&&(null===t&&(t=this.steps.length-1),this.isReady()&&this.number2<10||this.getParts(this.number2).length<t+1)}updateStep(t){const e=this.steps.length-1,s=this.getLastStep();if(s.length>10)return!1;s.unshift(t),this.steps[e]=s}getLastStep(){const t=this.steps.length-1;return this.steps[t]}nextStep(){const t=this.getLastStep();0!=t.length&&""!==t[0]&&this.steps.push([])}isCorrect(){return this.isLastStep()&&this.getLastStep().join("")==this.calculate()}calculate(){let t=-1;return"×"==this.operation?t=this.number1*this.number2:"+"==this.operation?t=parseInt(this.number1)+parseInt(this.number2)+"":"-"==this.operation&&(t=parseInt(this.number1)-parseInt(this.number2)+""),t}backspace(){if(this.isReady()){const t=this.getLastStep();if(t.length>0){const e=this.steps.length-1;t.shift(),this.steps[e]=t}else this.steps.length>1&&this.steps.pop()}else this.isNumber1Active()?this.number1=this.number1.slice(0,-1):this.isNumber2Active()&&(this.number2.length?this.number2=this.number2.slice(0,-1):this.status=0)}isCorrectByStep(t,e){let s;if(this.isLastStep(t))s=this.getParts(this.calculate());else{const e=this.getParts(this.number2).reverse()[t];s=this.getParts(e*this.number1)}const i=this.steps[t].slice(0);for(i.length<s.length&&(s=s.slice(-i.length));i.length>s.length;)s.unshift("");return s[e]===i[e]}fillNumbers(t){this.isNumber1Active()?this.number1+=t:this.number2+=t}}class D extends H{number1;number2;answer="";steps=[];status=0;map;constructor(t,e={}){super(t,e),this.setProperties(e)}clear(){this.setProperties({memory:[],number1:"",number2:"",answer:"",steps:[],status:0,map:void 0})}isAnswerActive(){return 3==this.status}setAnswerStatus(){this.status=3}isLastStep(t=null){return!!this.number2&&this.getMap().length==this.steps.length}nextStep(){this.isAnswerActive()?(this.steps.push([]),this.setReadyStatus()):this.steps.length%2==0?this.setAnswerStatus():0!=this.getLastStep().length&&this.steps.push([])}updateStep(t){this.steps.length||this.steps.push([]);const e=this.steps.length-1,s=this.getLastStep();if(s.length>10)return!1;s.push(t),this.steps[e]=s}calculate(){return this.number1/this.number2}isCorrect(){return this.answer==this.calculate()}backspace(){if(this.isReady()){const t=this.getLastStep();if(this.steps.length)if(t.length>0){const e=this.steps.length-1;t.pop(),this.steps[e]=t}else this.steps.pop();else this.setAnswerStatus()}else this.isNumber1Active()?this.number1=this.number1.slice(0,-1):this.isNumber2Active()?this.number2.length?this.number2=this.number2.slice(0,-1):this.status=0:this.answer=this.answer.slice(0,-1)}fillAnswer(t){this.answer+=t}getMap(){if(!this.map){this.map=[];const t=this.getParts(this.number1);let e="";for(;t.length;){e+=t.shift();const s=Math.floor(e/this.number2);s>0&&(this.map.push(parseInt(e)),this.map.push(s*this.number2),e-=s*this.number2)}this.map.shift()}return this.map}isCorrectByStep(t,e){if(""===this.steps[t][e])return!0;const s=this.steps[t].length-this.steps[t].filter(Boolean).length,i=this.getMap();return this.getParts(i[t])[e-s]==this.steps[t][e]}}class Z extends e.Z{calc_model;calc_view;constructor(t,e={}){super(t,e)}make(t){"÷"==t.operation?(this.calc_model=new D(this.app,t),this.calc_view=new F({app:this.app,model:this.calc_model})):(this.calc_model=new H(this.app,t),this.calc_view=new V({app:this.app,model:this.calc_model}))}passNumber(t){this.calc_model.isReady()?this.calc_model.updateStep(t):this.calc_model.isNumber1Active()||this.calc_model.isNumber2Active()?this.calc_model.fillNumbers(t):this.calc_model.fillAnswer(t)}passEnter(){this.calc_model.isNumber1Active()&&this.calc_model.number1.length?this.calc_model.setNumber2Status():this.calc_model.isNumber2Active()&&this.calc_model.number2.length?this.calc_model.setReadyStatus():this.calc_model.isLastStep()||this.calc_model.nextStep()}changeOperation(t){if(t==this.calc_model.operation)return!1;this.make({number1:this.calc_model.number1,number2:this.calc_model.number2,answer:"",operation:t,status:1})}pressSpace(){"÷"==this.calc_model.operation&&this.calc_model.isReady()&&this.calc_model.updateStep("")}}class Y extends r{constructor(t={}){super(t),this.template="columnar_calculations_view",this.class_name="columnar-calculations-view main-content"}templateContext(){return{}}getEvents(){return[]}onRender(){this.renderKeyboard(),this.renderCalc()}renderKeyboard(){this.keyboard_view&&this.keyboard_view.remove(),this.keyboard_view=new W({app:this.app,changeCallback:this.buttonPress.bind(this)}),this.renderChild(this.keyboard_view,".js-keyboard-wrapper")}buttonPress(t){Number.isInteger(parseInt(t))?this.cf.passNumber(t):"Enter"==t?(this.updateResult(),this.cf.passEnter()):"backspace"==t?(this.cf.calc_model.backspace(),this.updateResult()):"Clear"==t?(this.cf.calc_model.clear(),this.updateResult()):"×"==t||"-"==t||"+"==t||"÷"==t?(this.cf.calc_view.remove(),this.cf.changeOperation(t),this.renderChild(this.cf.calc_view,".js-calc-wrapper")):"space"==t&&this.cf.pressSpace(),this.cf.calc_view.render()}renderCalc(){this.cf?this.cf.calc_view.remove():(this.cf=new Z,this.cf.make({number1:1125,number2:25,operation:"÷",status:3})),this.renderChild(this.cf.calc_view,".js-calc-wrapper")}updateResult(){let t="";this.cf.calc_model.isLastStep()&&(t=this.cf.calc_model.isCorrect()?"Правильно!":"Не верно..."),this.el.querySelector(".js-result").innerHTML=t}}class Q extends r{constructor(t={}){super(t),this.template="searcher_view",this.class_name="searcher-view"}templateContext(){return{}}getEvents(){return[["click",".js-start","start"],["click",".js-stop","stop"],["click",".js-learn","learn"]]}onRender(){}}class X extends class{constructor(){this.routes=new i,this.wrapper=".main-wrapper",this.routes_map=[]}static config={};initRoutes(){this.routes.reset(this.routes_map),this.applyCurrentRoute(),this.startListenRoutes()}startListenRoutes(){document.addEventListener("click",(t=>{for(let e=t.target;e&&e!=document;e=e.parentNode)if(e.matches(".js-route")){t.preventDefault(),history.pushState(null,null,t.target.getAttribute("href")),this.applyCurrentRoute();break}}),!1),window.onpopstate=t=>{this.applyCurrentRoute()}}applyCurrentRoute(){const t=window.location.pathname,e=this.routes.getRoute(t);e?(this.routes.setCurrent(e),this[e.action](...e.getRouteAttributes(t))):this.pageNotFound()}navigate(t,e=!0){history.pushState(null,null,t),e&&this.applyCurrentRoute()}renderHeader(){const t=new n({app:this});document.querySelector(this.wrapper).appendChild(t.render())}renderFooter(){const t=new a({app:this});document.querySelector(this.wrapper).appendChild(t.render())}renderPage(t){this.clear(),this.renderHeader(),t?document.querySelector(this.wrapper).appendChild(t.render()):document.querySelector(this.wrapper).innerHTML='<div class="main-content"></div>',this.renderFooter()}clear(){const t=document.querySelector(this.wrapper);for(;t.firstChild;)t.removeChild(t.firstChild)}request(t,e,s,i,r="POST"){const n=new XMLHttpRequest;n.open(r,t),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.send(JSON.stringify(e)),this.getPreloader().show(),n.onload=()=>{this.getPreloader().hide(),200!=n.status?i&&i({status:n.status,status_text:n.statusText,message:`Не удалось выполнить запрос: ${n.statusText}`}):s(JSON.parse(n.response))},n.onerror=()=>{this.getPreloader().hide(),i({message:"Не удалось выполнить запрос"})}}showError(t){console.info(t),new h({app:this,title:"Извините",text:t.message||"Произошла ошибка",type:"info"}).show()}showMessage(t,e="Поздравляем!"){new h({app:this,title:e,text:t,type:"info"}).show()}getPreloader(){return this.preloader||(this.preloader=new o({app:this,show_spinner:!0})),this.preloader}getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}randomInteger(t,e){let s=t-.5+Math.random()*(e-t+1);return Math.round(s)}getLocalDate(t){let e=moment.tz(t,Application.config.server_timezone);return e.tz(moment.tz.guess()),e}getServerDate(t,e){let s=e?moment(t,e):moment(t);return s.tz(Application.config.server_timezone),s}}{constructor(){super(),this.routes_map=[{mask:"/",action:"index"},{mask:"/projects/probability",action:"probability"},{mask:"/projects/numerals",action:"numerals"},{mask:"/projects/it-gramota",action:"itGramota"},{mask:"/projects/code-bot",action:"codeBot"},{mask:"/projects/expressions",action:"expressions"},{mask:"/projects/interview",action:"interview"},{mask:"/projects/game",action:"game"},{mask:"/projects/game2",action:"game2"},{mask:"/projects/columnar-calculations",action:"columnarCalculations"},{mask:"/projects/searcher",action:"searcher"}]}index(){this.renderPage(new C({app:this}))}probability(){const t=new l(this);this.renderPage(new j({app:this,model:t}))}numerals(){const t=new c(this);this.renderPage(new B({app:this,net:t,number:10}))}itGramota(){const t=new k({app:this});this.renderPage(t)}codeBot(){const t=new u.Z(this),e=new T({app:this,code_bot:t});this.renderPage(e)}expressions(){const t=new R({app:this});this.renderPage(t)}formBuilderWidget(){const t=new M({app:this});this.renderPage(t)}async interview(){const t=new w(this,X.config.themes),e=new v(this);try{await e.fetchAll();const s=new q({app:this,themes_collection:t,questions_collection:e});this.renderPage(s)}catch(t){this.showError(t)}}async game(){const t=new x(this);try{await t.fetchItems();const e=new L({app:this,collection:t});this.renderPage(e)}catch(t){this.showError(t.message)}}game2(){const t=new g(this);t.setProperties({x:0,y:250,color:"blue",team:1});const e=new g(this);e.setProperties({x:500,y:300,color:"red",team:2});const s=new A({app:this,bot1:t,bot2:e});this.renderPage(s)}columnarCalculations(){const t=new Y({app:this});this.renderPage(t)}searcher(){const t=new Q({app:this});this.renderPage(t)}}document.addEventListener("DOMContentLoaded",(()=>{X.config=config,config=null,(new X).initRoutes()}))})()})();